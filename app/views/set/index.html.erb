<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
  <%= link_to 'Magic:the Gathering', '#', class: 'navbar-brand' %>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <% @sets_by_types.keys.take(8).each do |type| %>
        <li class="nav-item active">
          <%= link_to type, "##{type}", class: 'nav-link mx-2' %>
        </li>
      <% end %>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle btn btn-sm btn-outline-secondary mx-2" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Others
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
          <% @sets_by_types.keys.drop(8).each do |type| %>
            <%= link_to type, "##{type}", class: 'dropdown-item' %>
          <% end %>
        </div>
      </li>
      <li class="nav-item active bold"><%= link_to 'Fetch Set Data', set_fetch_path, class: 'nav-link mx-2 btn btn-danger' %></li>
    </ul>
  </div>
</nav>

<% @sets_by_types.each do |type, sets| %>
  <%= render partial: "set", locals: { type: type, sets: sets } %>
<% end %>

<script>
  <%= render partial: 'shared/rumblize.js', locals: { selector: '.get_booster' } %>
  $('.fetch').on('click', function() {
    $.LoadingOverlay('show');
  });
</script>

